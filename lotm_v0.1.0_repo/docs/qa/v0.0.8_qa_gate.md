# v0.0.8 QA Gate — CERTIFIABLE PASS

**Version tested:** v0.0.8 (per `docs/BUILD_INFO.json` and QA artifact)

**Date:** 2026-02-12

**Gate owner:** QA Engineer

**Result:** **CERTIFIABLE PASS**

## Commands executed (no install)

Repo was executed without `npm install` / without `node_modules`.

```bash
npm run qa
```

## Observed console output

- `Vitest not found (node_modules missing). Running no-deps QA gate...`
- `qa_no_deps: PASS (passed 6/6)`

**Exit code:** 0

## Machine-readable artifact

Expected artifact produced:

- `qa_artifacts/v0.0.8_no_deps_gate.json`

Summary (from artifact):
- `ok: true`
- `tests_run: 6`
- `passed: 6`
- `failed: 0`

## Coverage (no-deps QA gate)

The no-deps gate (`scripts/qaNoDeps.mjs`) executed the following checks:

1) **Policy registry & BUILD_INFO drift prevention**
   - Ensures required policies exist and `docs/BUILD_INFO.json.policy_ids` matches the policy registry.

2) **Builder-forward early construction intent**
   - Asserts `builder-forward` chooses `field_rotation` as the first viable improvement.

3) **Determinism (same seed + same policy ⇒ identical log hash)**

4) **Golden seeds + invariants (prudent-builder)**
   - Runs first 8 seeds for 15 turns, verifying invariants:
     - no NaN/Infinity
     - clamps: unrest 0–100; relationship metrics 0–100
     - energy/resources non-negative; labor cap enforced
     - allowed game-over reasons only

5) **Golden seeds + invariants (builder-forward)**
   - Same invariant sweep.

6) **Bounded snapshots**
   - Ensures log entry snapshots do not embed `log` and contain only allowed keys.

## Notes / Gaps

- This execution path is **certifiable** for environments where dependency install is not possible, because it is self-contained and produces a machine-readable artifact.
- If `node_modules/.bin/vitest` is present, `npm run qa` will run the Vitest suite and also fail if Vitest discovers **0 tests**.
